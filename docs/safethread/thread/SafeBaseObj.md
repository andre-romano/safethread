[  safethread.thread](../thread.html)

## API Documentation

  * logger
  * SafeBaseObj
    * SafeBaseObj
    * copy
    * copyObj

[ built with pdoc![pdoc
logo](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-
label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E)
](https://pdoc.dev "pdoc: Python API documentation generator")

#
[safethread](./../../safethread.html).[thread](./../thread.html).SafeBaseObj

View Source

    
    
      1import logging
      2
      3from threading import RLock
      4
      5from ..utils import Factory
      6
      7# Configuração do logger
      8logger = logging.getLogger(__name__)
      9
     10
     11class SafeBaseObj(Factory):
     12    """
     13    A thread-safe wrapper around a data object, ensuring safe access 
     14    in multithreaded environments using locking mechanisms.
     15    """
     16
     17    def __index__(self):
     18        """Return the integer representation of the object, ensuring thread safety."""
     19        with self._lock:
     20            return self._data.__index__()
     21
     22    def __ceil__(self):
     23        """Return the smallest integer greater than or equal to the object."""
     24        with self._lock:
     25            return self._data.__ceil__()
     26
     27    def __floor__(self):
     28        """Return the largest integer less than or equal to the object."""
     29        with self._lock:
     30            return self._data.__floor__()
     31
     32    def __trunc__(self):
     33        """Return the truncated integer value of the object."""
     34        with self._lock:
     35            return self._data.__trunc__()
     36
     37    def __round__(self, n=0):
     38        """Round the object to a given number of decimal places."""
     39        with self._lock:
     40            return self._data.__round__(n)
     41
     42    def __divmod__(self, other):
     43        """Perform a safe divmod operation with another object."""
     44        other = self.create(other)
     45        with self._lock, other._lock:
     46            return divmod(self._data, other._data)
     47
     48    def __iadd__(self, other):
     49        """Perform an in-place addition operation safely."""
     50        other = self.create(other)
     51        with self._lock, other._lock:
     52            self._data += other._data
     53            return self
     54
     55    def __add__(self, other):
     56        """Perform an addition operation safely and return a new instance."""
     57        other = self.create(other)
     58        with self._lock, other._lock:
     59            return self.create(self._data + other._data)
     60
     61    def __sub__(self, other):
     62        """Perform a subtraction operation safely and return a new instance."""
     63        other = self.create(other)
     64        with self._lock, other._lock:
     65            return self.create(self._data - other._data)
     66
     67    def __mul__(self, other):
     68        """Perform a multiplication operation safely and return a new instance."""
     69        other = self.create(other)
     70        with self._lock, other._lock:
     71            return self.create(self._data * other._data)
     72
     73    def __truediv__(self, other):
     74        """Perform a true division operation safely and return a new instance."""
     75        other = self.create(other)
     76        with self._lock, other._lock:
     77            return self.create(self._data / other._data)
     78
     79    def __floordiv__(self, other):
     80        """Perform a floor division operation safely and return a new instance."""
     81        other = self.create(other)
     82        with self._lock, other._lock:
     83            return self.create(self._data // other._data)
     84
     85    def __mod__(self, other):
     86        """Perform a modulo operation safely and return a new instance."""
     87        other = self.create(other)
     88        with self._lock, other._lock:
     89            return self.create(self._data % other._data)
     90
     91    def __pow__(self, other):
     92        """Perform an exponentiation operation safely and return a new instance."""
     93        other = self.create(other)
     94        with self._lock, other._lock:
     95            return self.create(self._data ** other._data)
     96
     97    def __lshift__(self, other):
     98        """Perform a left shift operation safely and return a new instance."""
     99        other = self.create(other)
    100        with self._lock, other._lock:
    101            return self.create(self._data << other._data)
    102
    103    def __rshift__(self, other):
    104        """Perform a left shift operation safely and return a new instance."""
    105        other = self.create(other)
    106        with self._lock, other._lock:
    107            return self.create(self._data >> other._data)
    108
    109    def __and__(self, other):
    110        """Return the intersection of two sets safely."""
    111        other = self.create(other)
    112        with self._lock, other._lock:
    113            return self.create(self._data & other._data)
    114
    115    def __or__(self, other):
    116        """Return the union of two sets safely."""
    117        other = self.create(other)
    118        with self._lock, other._lock:
    119            return self.create(self._data | other._data)
    120
    121    def __xor__(self, other):
    122        """Perform a bitwise XOR operation safely and return a new instance."""
    123        other = self.create(other)
    124        with self._lock, other._lock:
    125            return self.create(self._data ^ other._data)
    126
    127    def __radd__(self, other):
    128        """Perform a reflected addition operation safely."""
    129        other = self.create(other)
    130        return other.__add__(self)
    131
    132    def __rsub__(self, other):
    133        """Perform a reflected subtraction operation safely."""
    134        other = self.create(other)
    135        return other.__sub__(self)
    136
    137    def __rmul__(self, other):
    138        """Perform a reflected multiplication operation safely."""
    139        other = self.create(other)
    140        return other.__mul__(self)
    141
    142    def __rtruediv__(self, other):
    143        """Perform a reflected true division operation safely."""
    144        other = self.create(other)
    145        return other.__truediv__(self)
    146
    147    def __rfloordiv__(self, other):
    148        """Perform a reflected floor division operation safely."""
    149        other = self.create(other)
    150        return other.__floordiv__(self)
    151
    152    def __rmod__(self, other):
    153        """Perform a reflected modulo operation safely."""
    154        other = self.create(other)
    155        return other.__mod__(self)
    156
    157    def __rpow__(self, other):
    158        """Perform a reflected exponentiation operation safely."""
    159        other = self.create(other)
    160        return other.__pow__(self)
    161
    162    def __rlshift__(self, other):
    163        """Perform a reflected left shift operation safely."""
    164        other = self.create(other)
    165        return other.__lshift__(self)
    166
    167    def __rrshift__(self, other):
    168        """Perform a reflected right shift operation safely."""
    169        other = self.create(other)
    170        return other.__rshift__(self)
    171
    172    def __rand__(self, other):
    173        """Perform a reflected bitwise AND operation safely."""
    174        other = self.create(other)
    175        return other.__and__(self)
    176
    177    def __ror__(self, other):
    178        """Perform a reflected bitwise OR operation safely."""
    179        other = self.create(other)
    180        return other.__or__(self)
    181
    182    def __rxor__(self, other):
    183        """Perform a reflected bitwise XOR operation safely."""
    184        other = self.create(other)
    185        return other.__xor__(self)
    186
    187    def __abs__(self):
    188        """Return the absolute value of the object safely."""
    189        with self._lock:
    190            return self.create(abs(self._data))
    191
    192    def __neg__(self):
    193        """Return the negation of the object safely."""
    194        with self._lock:
    195            return self.create(-self._data)
    196
    197    def __pos__(self):
    198        """Return the positive value of the object safely."""
    199        with self._lock:
    200            return self.create(+self._data)
    201
    202    def __invert__(self):
    203        """Return the bitwise inversion of the object safely."""
    204        with self._lock:
    205            return self.create(~self._data)
    206
    207    def __ne__(self, other) -> bool:
    208        """Verifica desigualdade entre dois objetos."""
    209        other = self.create(other)
    210        with self._lock, other._lock:
    211            return self._data != other._data
    212
    213    def __eq__(self, other) -> bool:
    214        """Check if two sets are equal safely."""
    215        other = self.create(other)
    216        with self._lock, other._lock:
    217            return self._data == other._data
    218
    219    def __lt__(self, other):
    220        """Check if the object is less than another safely."""
    221        other = self.create(other)
    222        with self._lock, other._lock:
    223            return self._data < other._data
    224
    225    def __le__(self, other):
    226        """Check if the object is less than or equal to another safely."""
    227        other = self.create(other)
    228        with self._lock, other._lock:
    229            return self._data <= other._data
    230
    231    def __gt__(self, other):
    232        """Check if the object is greater than another safely."""
    233        other = self.create(other)
    234        with self._lock, other._lock:
    235            return self._data > other._data
    236
    237    def __ge__(self, other):
    238        """Check if the object is greater than or equal to another safely."""
    239        other = self.create(other)
    240        with self._lock, other._lock:
    241            return self._data >= other._data
    242
    243    def __getitem__(self, index):
    244        """Retrieve an item safely from the object."""
    245        with self._lock:
    246            if index not in self._data:
    247                msg = f"Index '{index}' not found."
    248                logger.error(msg)
    249                raise KeyError(msg)
    250            return self._data[index]
    251
    252    def __setitem__(self, index, value):
    253        """Set a value at a specific index safely."""
    254        with self._lock:
    255            self._data[index] = value
    256
    257    def __delitem__(self, index):
    258        """Remove an item by index safely."""
    259        with self._lock:
    260            del self._data[index]
    261
    262    def __contains__(self, value):
    263        """Check if a value exists in the object safely."""
    264        with self._lock:
    265            return value in self._data
    266
    267    def __sizeof__(self):
    268        """Return the size of the object in bytes, including lock overhead."""
    269        with self._lock:
    270            return self._data.__sizeof__() + self._lock.__sizeof__()
    271
    272    def __len__(self):
    273        """Return the size of the object safely."""
    274        with self._lock:
    275            return len(self._data)
    276
    277    def __iter__(self):
    278        """Return a thread-safe iterator for the object."""
    279        with self._lock:
    280            return iter(self._data.copy())
    281
    282    def __hash__(self):
    283        """Return the hash of the object safely."""
    284        with self._lock:
    285            return hash(self._data)
    286
    287    def __repr__(self):
    288        """Return a string representation of the object safely."""
    289        with self._lock:
    290            return repr(self._data)
    291
    292    def __str__(self):
    293        """Return a string conversion of the object safely."""
    294        with self._lock:
    295            return str(self._data)
    296
    297    def __bool__(self):
    298        """Return the boolean representation of the object safely."""
    299        with self._lock:
    300            return bool(self._data)
    301
    302    def __int__(self):
    303        """Return the integer representation of the object safely."""
    304        with self._lock:
    305            return int(self._data)
    306
    307    def __float__(self):
    308        """Return the float representation of the object safely."""
    309        with self._lock:
    310            return float(self._data)
    311
    312    def __init__(self, data):
    313        """
    314        Initialize a thread-safe object with an internal lock.
    315
    316        :param data: The initial data to be wrapped in a thread-safe manner.
    317        """
    318        super().__init__()  # Ensure parent class initialization
    319        self._data = data if not isinstance(data, SafeBaseObj) else data._data
    320        self._lock = RLock() if not isinstance(data, SafeBaseObj) else data._lock
    321
    322    def copy(self):
    323        """Return a thread-safe copy of the object."""
    324        with self._lock:
    325            return self.create(self._data.copy())
    326
    327    def copyObj(self):
    328        """Return an internal data copy."""
    329        with self._lock:
    330            return self._data.copy()
    

logger = <Logger [safethread.thread.SafeBaseObj]() (WARNING)>

class
SafeBaseObj([safethread.utils.Factory.Factory](../utils/Factory.html#Factory)):
View Source

    
    
     12class SafeBaseObj(Factory):
     13    """
     14    A thread-safe wrapper around a data object, ensuring safe access 
     15    in multithreaded environments using locking mechanisms.
     16    """
     17
     18    def __index__(self):
     19        """Return the integer representation of the object, ensuring thread safety."""
     20        with self._lock:
     21            return self._data.__index__()
     22
     23    def __ceil__(self):
     24        """Return the smallest integer greater than or equal to the object."""
     25        with self._lock:
     26            return self._data.__ceil__()
     27
     28    def __floor__(self):
     29        """Return the largest integer less than or equal to the object."""
     30        with self._lock:
     31            return self._data.__floor__()
     32
     33    def __trunc__(self):
     34        """Return the truncated integer value of the object."""
     35        with self._lock:
     36            return self._data.__trunc__()
     37
     38    def __round__(self, n=0):
     39        """Round the object to a given number of decimal places."""
     40        with self._lock:
     41            return self._data.__round__(n)
     42
     43    def __divmod__(self, other):
     44        """Perform a safe divmod operation with another object."""
     45        other = self.create(other)
     46        with self._lock, other._lock:
     47            return divmod(self._data, other._data)
     48
     49    def __iadd__(self, other):
     50        """Perform an in-place addition operation safely."""
     51        other = self.create(other)
     52        with self._lock, other._lock:
     53            self._data += other._data
     54            return self
     55
     56    def __add__(self, other):
     57        """Perform an addition operation safely and return a new instance."""
     58        other = self.create(other)
     59        with self._lock, other._lock:
     60            return self.create(self._data + other._data)
     61
     62    def __sub__(self, other):
     63        """Perform a subtraction operation safely and return a new instance."""
     64        other = self.create(other)
     65        with self._lock, other._lock:
     66            return self.create(self._data - other._data)
     67
     68    def __mul__(self, other):
     69        """Perform a multiplication operation safely and return a new instance."""
     70        other = self.create(other)
     71        with self._lock, other._lock:
     72            return self.create(self._data * other._data)
     73
     74    def __truediv__(self, other):
     75        """Perform a true division operation safely and return a new instance."""
     76        other = self.create(other)
     77        with self._lock, other._lock:
     78            return self.create(self._data / other._data)
     79
     80    def __floordiv__(self, other):
     81        """Perform a floor division operation safely and return a new instance."""
     82        other = self.create(other)
     83        with self._lock, other._lock:
     84            return self.create(self._data // other._data)
     85
     86    def __mod__(self, other):
     87        """Perform a modulo operation safely and return a new instance."""
     88        other = self.create(other)
     89        with self._lock, other._lock:
     90            return self.create(self._data % other._data)
     91
     92    def __pow__(self, other):
     93        """Perform an exponentiation operation safely and return a new instance."""
     94        other = self.create(other)
     95        with self._lock, other._lock:
     96            return self.create(self._data ** other._data)
     97
     98    def __lshift__(self, other):
     99        """Perform a left shift operation safely and return a new instance."""
    100        other = self.create(other)
    101        with self._lock, other._lock:
    102            return self.create(self._data << other._data)
    103
    104    def __rshift__(self, other):
    105        """Perform a left shift operation safely and return a new instance."""
    106        other = self.create(other)
    107        with self._lock, other._lock:
    108            return self.create(self._data >> other._data)
    109
    110    def __and__(self, other):
    111        """Return the intersection of two sets safely."""
    112        other = self.create(other)
    113        with self._lock, other._lock:
    114            return self.create(self._data & other._data)
    115
    116    def __or__(self, other):
    117        """Return the union of two sets safely."""
    118        other = self.create(other)
    119        with self._lock, other._lock:
    120            return self.create(self._data | other._data)
    121
    122    def __xor__(self, other):
    123        """Perform a bitwise XOR operation safely and return a new instance."""
    124        other = self.create(other)
    125        with self._lock, other._lock:
    126            return self.create(self._data ^ other._data)
    127
    128    def __radd__(self, other):
    129        """Perform a reflected addition operation safely."""
    130        other = self.create(other)
    131        return other.__add__(self)
    132
    133    def __rsub__(self, other):
    134        """Perform a reflected subtraction operation safely."""
    135        other = self.create(other)
    136        return other.__sub__(self)
    137
    138    def __rmul__(self, other):
    139        """Perform a reflected multiplication operation safely."""
    140        other = self.create(other)
    141        return other.__mul__(self)
    142
    143    def __rtruediv__(self, other):
    144        """Perform a reflected true division operation safely."""
    145        other = self.create(other)
    146        return other.__truediv__(self)
    147
    148    def __rfloordiv__(self, other):
    149        """Perform a reflected floor division operation safely."""
    150        other = self.create(other)
    151        return other.__floordiv__(self)
    152
    153    def __rmod__(self, other):
    154        """Perform a reflected modulo operation safely."""
    155        other = self.create(other)
    156        return other.__mod__(self)
    157
    158    def __rpow__(self, other):
    159        """Perform a reflected exponentiation operation safely."""
    160        other = self.create(other)
    161        return other.__pow__(self)
    162
    163    def __rlshift__(self, other):
    164        """Perform a reflected left shift operation safely."""
    165        other = self.create(other)
    166        return other.__lshift__(self)
    167
    168    def __rrshift__(self, other):
    169        """Perform a reflected right shift operation safely."""
    170        other = self.create(other)
    171        return other.__rshift__(self)
    172
    173    def __rand__(self, other):
    174        """Perform a reflected bitwise AND operation safely."""
    175        other = self.create(other)
    176        return other.__and__(self)
    177
    178    def __ror__(self, other):
    179        """Perform a reflected bitwise OR operation safely."""
    180        other = self.create(other)
    181        return other.__or__(self)
    182
    183    def __rxor__(self, other):
    184        """Perform a reflected bitwise XOR operation safely."""
    185        other = self.create(other)
    186        return other.__xor__(self)
    187
    188    def __abs__(self):
    189        """Return the absolute value of the object safely."""
    190        with self._lock:
    191            return self.create(abs(self._data))
    192
    193    def __neg__(self):
    194        """Return the negation of the object safely."""
    195        with self._lock:
    196            return self.create(-self._data)
    197
    198    def __pos__(self):
    199        """Return the positive value of the object safely."""
    200        with self._lock:
    201            return self.create(+self._data)
    202
    203    def __invert__(self):
    204        """Return the bitwise inversion of the object safely."""
    205        with self._lock:
    206            return self.create(~self._data)
    207
    208    def __ne__(self, other) -> bool:
    209        """Verifica desigualdade entre dois objetos."""
    210        other = self.create(other)
    211        with self._lock, other._lock:
    212            return self._data != other._data
    213
    214    def __eq__(self, other) -> bool:
    215        """Check if two sets are equal safely."""
    216        other = self.create(other)
    217        with self._lock, other._lock:
    218            return self._data == other._data
    219
    220    def __lt__(self, other):
    221        """Check if the object is less than another safely."""
    222        other = self.create(other)
    223        with self._lock, other._lock:
    224            return self._data < other._data
    225
    226    def __le__(self, other):
    227        """Check if the object is less than or equal to another safely."""
    228        other = self.create(other)
    229        with self._lock, other._lock:
    230            return self._data <= other._data
    231
    232    def __gt__(self, other):
    233        """Check if the object is greater than another safely."""
    234        other = self.create(other)
    235        with self._lock, other._lock:
    236            return self._data > other._data
    237
    238    def __ge__(self, other):
    239        """Check if the object is greater than or equal to another safely."""
    240        other = self.create(other)
    241        with self._lock, other._lock:
    242            return self._data >= other._data
    243
    244    def __getitem__(self, index):
    245        """Retrieve an item safely from the object."""
    246        with self._lock:
    247            if index not in self._data:
    248                msg = f"Index '{index}' not found."
    249                logger.error(msg)
    250                raise KeyError(msg)
    251            return self._data[index]
    252
    253    def __setitem__(self, index, value):
    254        """Set a value at a specific index safely."""
    255        with self._lock:
    256            self._data[index] = value
    257
    258    def __delitem__(self, index):
    259        """Remove an item by index safely."""
    260        with self._lock:
    261            del self._data[index]
    262
    263    def __contains__(self, value):
    264        """Check if a value exists in the object safely."""
    265        with self._lock:
    266            return value in self._data
    267
    268    def __sizeof__(self):
    269        """Return the size of the object in bytes, including lock overhead."""
    270        with self._lock:
    271            return self._data.__sizeof__() + self._lock.__sizeof__()
    272
    273    def __len__(self):
    274        """Return the size of the object safely."""
    275        with self._lock:
    276            return len(self._data)
    277
    278    def __iter__(self):
    279        """Return a thread-safe iterator for the object."""
    280        with self._lock:
    281            return iter(self._data.copy())
    282
    283    def __hash__(self):
    284        """Return the hash of the object safely."""
    285        with self._lock:
    286            return hash(self._data)
    287
    288    def __repr__(self):
    289        """Return a string representation of the object safely."""
    290        with self._lock:
    291            return repr(self._data)
    292
    293    def __str__(self):
    294        """Return a string conversion of the object safely."""
    295        with self._lock:
    296            return str(self._data)
    297
    298    def __bool__(self):
    299        """Return the boolean representation of the object safely."""
    300        with self._lock:
    301            return bool(self._data)
    302
    303    def __int__(self):
    304        """Return the integer representation of the object safely."""
    305        with self._lock:
    306            return int(self._data)
    307
    308    def __float__(self):
    309        """Return the float representation of the object safely."""
    310        with self._lock:
    311            return float(self._data)
    312
    313    def __init__(self, data):
    314        """
    315        Initialize a thread-safe object with an internal lock.
    316
    317        :param data: The initial data to be wrapped in a thread-safe manner.
    318        """
    319        super().__init__()  # Ensure parent class initialization
    320        self._data = data if not isinstance(data, SafeBaseObj) else data._data
    321        self._lock = RLock() if not isinstance(data, SafeBaseObj) else data._lock
    322
    323    def copy(self):
    324        """Return a thread-safe copy of the object."""
    325        with self._lock:
    326            return self.create(self._data.copy())
    327
    328    def copyObj(self):
    329        """Return an internal data copy."""
    330        with self._lock:
    331            return self._data.copy()
    

A thread-safe wrapper around a data object, ensuring safe access in
multithreaded environments using locking mechanisms.

SafeBaseObj(data) View Source

    
    
    313    def __init__(self, data):
    314        """
    315        Initialize a thread-safe object with an internal lock.
    316
    317        :param data: The initial data to be wrapped in a thread-safe manner.
    318        """
    319        super().__init__()  # Ensure parent class initialization
    320        self._data = data if not isinstance(data, SafeBaseObj) else data._data
    321        self._lock = RLock() if not isinstance(data, SafeBaseObj) else data._lock
    

Initialize a thread-safe object with an internal lock.

###### Parameters

  * **data** : The initial data to be wrapped in a thread-safe manner.

def copy(self): View Source

    
    
    323    def copy(self):
    324        """Return a thread-safe copy of the object."""
    325        with self._lock:
    326            return self.create(self._data.copy())
    

Return a thread-safe copy of the object.

def copyObj(self): View Source

    
    
    328    def copyObj(self):
    329        """Return an internal data copy."""
    330        with self._lock:
    331            return self._data.copy()
    

Return an internal data copy.

##### Inherited Members

[safethread.utils.Factory.Factory](../utils/Factory.html#Factory)

    [create](../utils/Factory.html#Factory.create)

